"use strict";var origin,onTop,loc=[];function setUpPage(){var e=document.querySelectorAll("#pieces div");onTop=e.length+1;for(var t=0;t<e.length;t++)e[t].addEventListener?(e[t].addEventListener("mousedown",startDrag,!1),e[t].addEventListener("touchstart",startDrag,!1)):e[t].attachEvent&&e[t].attachEvent("onmousedown",startDrag)}function startDrag(e){this.style.zIndex=onTop,onTop++,e.preventDefault(),this.addEventListener("touchmove",moveDrag,!1),this.addEventListener("touchend",removeTouchListener,!1),"mousedown"!==e.type?(this.addEventListener("touchmove",moveDrag,!1),this.addEventListener("touchend",removeTouchListener,!1)):(this.addEventListener("mousemove",moveDrag,!1),this.addEventListener("mouseup",removeDragListener,!1)),this.addEventListener("mousemove",moveDrag,!1),this.addEventListener("mouseup",removeDragListener,!1),loc=[this.offsetLeft,this.offsetTop],origin=getCoords(e)}function moveDrag(e){var t=getCoords(e),e=t[0]-origin[0],t=t[1]-origin[1];this.style.left=loc[0]+e+"px",this.style.top=loc[1]+t+"px"}function getCoords(e){var t,o=[];return e.targetTouches&&e.targetTouches.length?(t=e.targetTouches[0],o[0]=t.clientX,o[1]=t.ClientY):(o[0]=e.clientX,o[1]=e.clientY),o}function removeDragListener(){this.removeEventListener("mousemove",moveDrag,!1),this.removeEventListener("mouseup",removeDragListener,!1)}function removeTouchListener(){this.removeEventListener("touchmove",moveDrag,!1),this.removeEventListener("touchend",removeTouchListener,!1)}window.addEventListener&&window.addEventListener("load",setUpPage,!1);